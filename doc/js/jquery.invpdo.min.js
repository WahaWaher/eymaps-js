/**
 * jQuery.inVpDo
 * Version: 2.0.3
 * Repo: https://github.com/WahaWaher/invpdo-js
 * Author: Sergey Kravchenko
 * Contacts: wahawaher@gmail.com
 * License: MIT
 */

!function(n){var t,o={threshold:0,once:!1,wait:75,beforeInit:n.noop,onShow:n.noop,onHide:n.noop},i=function(n,t){this.it=n,this.init(t)},e=i.prototype;e.init=function(i){var e=this,s=e.it,c=n(e.it);!0!==e.inited&&(e.defaults=n.extend(!0,{},o,n.fn.inVpDo.defaults),e.options=i||{},e.dataOptions=c.data("invpdo")||{},e.settings=n.extend(!0,{},e.defaults,e.options,e.dataOptions),e.settings.beforeInit.call(s,e),e.vsb=null,e.nsid=t.getRndNum(1e4,99999),e.nspс="ivd-"+e.nsid,e.e="scroll."+e.nspс+" resize."+e.nspс,dc=t.debounce(function(){e.check.call(e)},e.settings.wait),n(window).on(e.e,dc),e.check(),e.inited=!0)},e.check=function(){var t=this,o=n(t.it),i=t.settings,e=n(window),s=n(document).scrollTop(),c=o.offset().top;return s>=c-e.height()-i.threshold&&s<=c+o.outerHeight()+i.threshold?t.vsb&&null!=t.vsb||(t.vsb=!0,i.onShow.call(t.it,t),i.once&&e.off(t.e)):(t.vsb||null==t.vsb)&&(t.vsb=!1,i.once||i.onHide.call(t.it,t)),t.vsb},t={getRndNum:function(n,t){return Math.round(n-.5+Math.random()*(t-n+1))},debounce:function(n,t){var o;return function(){var i=this,e=arguments,s=!o;clearTimeout(o),o=setTimeout(function(){o=null,n.apply(i,e)},t),s&&n.apply(i,e)}}},n.fn.inVpDo=function(){var t=arguments[0];return n.each(this,function(n,o){o.InVpDo||"object"!=typeof t&&void 0!==t||(o.InVpDo=new i(o,t))}),this}}(jQuery);